{"remainingRequest":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/babel-loader/lib/index.js!/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/src/App.vue","mtime":1614872886000},{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhDdHggYXMgX3dpdGhDdHggfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIkFwcCIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiaGVhZGVyIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAibGVnZW5kIgp9LCAiIExlZ2VuZCBIZXJlICIpXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJtYXBzIgp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJ0ZXh0IiwgewogIGlkOiAiaG92ZXIiLAogIHg6IDUwLAogIHk6IDUwCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGlkOiAibWFwYm94LWNvbnRhaW5lciIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9lbF9kaXZpZGVyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRpdmlkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfY2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jYXJkIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpdmlkZXIpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jYXJkLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJzdmciLCB7CiAgICAgICAgaGVpZ2h0OiAkZGF0YS5oZWlnaHQsCiAgICAgICAgd2lkdGg6ICRkYXRhLndpZHRoCiAgICAgIH0sIFtfY3JlYXRlVk5vZGUoImciLCB7CiAgICAgICAgY2xhc3M6ICJwYXRocyIsCiAgICAgICAgb25Nb3VzZWxlYXZlOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5vbkhvdmVyKG51bGwpOwogICAgICAgIH0pCiAgICAgIH0sIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEubWFwLmZlYXR1cmVzLCBmdW5jdGlvbiAoZmVhdHVyZSkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygicGF0aCIsIHsKICAgICAgICAgIGtleTogZmVhdHVyZS5wcm9wZXJ0aWVzLmdlb3VuaXQsCiAgICAgICAgICBkOiAkb3B0aW9ucy5nZW9QYXRoKGZlYXR1cmUpLAogICAgICAgICAgb25Nb3VzZWVudGVyOiBmdW5jdGlvbiBvbk1vdXNlZW50ZXIoJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5vbkhvdmVyKGZlYXR1cmUucHJvcGVydGllcyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgbnVsbCwgNDAKICAgICAgICAvKiBQUk9QUywgSFlEUkFURV9FVkVOVFMgKi8KICAgICAgICAsIFsiZCIsICJvbk1vdXNlZW50ZXIiXSk7CiAgICAgIH0pLCAxMjgKICAgICAgLyogS0VZRURfRlJBR01FTlQgKi8KICAgICAgKSldLCAzMgogICAgICAvKiBIWURSQVRFX0VWRU5UUyAqLwogICAgICApLCBfaG9pc3RlZF80XSwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsiaGVpZ2h0IiwgIndpZHRoIl0pKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2FyZCwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzVdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKV0pOwp9"},{"version":3,"sources":["/Users/leekuczewski/Desktop/The_New_School/Repos/thesis/week5/Vue-element-d3-geo2/src/App.vue"],"names":[],"mappings":";;;AACK,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAIM,KAJN,EAIM;AAJD,EAAA,KAAK,EAAC;AAIL,CAJN,EAAmB,C,aACjB,YAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC;AAEL,CAFN,EAAoB,eAApB,CADiB,CAAnB,E;;AAAA,C;;;AAMK,EAAA,KAAK,EAAC;;;8BAWL,YAAA,CAAwC,MAAxC,EAAwC;AAAlC,EAAA,EAAE,EAAC,OAA+B;AAAtB,EAAA,CAAC,EAAE,EAAmB;AAAd,EAAA,CAAC,EAAE;AAAW,CAAxC,E,IAAA,E;;AAAA,C;;8BAIF,YAAA,CAAiC,KAAjC,EAAiC;AAA5B,EAAA,EAAE,EAAC;AAAyB,CAAjC,EAA0B,IAA1B,EAA0B,CAAA;AAAA;AAA1B,C;;;;;;;uBAtBN,YAAA,CAyBM,KAzBN,EAAA,UAAA,EAyBM,CAxBJ,UAwBI,EAnBJ,YAAA,CAAyB,qBAAzB,CAmBI,EAlBJ,YAAA,CAiBM,KAjBN,EAAA,UAAA,EAiBM,CAhBJ,YAAA,CAYU,kBAZV,EAYU,IAZV,EAYU;sBAXR;AAAA,aAUM,E,cAVN,YAAA,CAUM,KAVN,EAUM;AAVA,QAAA,MAAM,EAAE,KAAA,CAAA,MAUR;AAViB,QAAA,KAAK,EAAE,KAAA,CAAA;AAUxB,OAVN,E,CACE,YAAA,CAOI,GAPJ,EAOI;AAPD,QAAA,KAAK,EAAC,OAOL;AAPc,QAAA,YAAU,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,OAAA,CAAO,IAAP,CAAF;AAAA,SAAA;AAOxB,OAPJ,E,oBACE,YAAA,CAKQ,SALR,EAKQ,IALR,EAKQ,WAAA,CAJY,KAAA,CAAA,GAAA,CAAI,QAIhB,EAJwB,UAAvB,OAAuB,EAAhB;6BADhB,YAAA,CAKQ,MALR,EAKQ;AAHL,UAAA,GAAG,EAAE,OAAO,CAAC,UAAR,CAAmB,OAGnB;AAFL,UAAA,CAAC,EAAE,QAAA,CAAA,OAAA,CAAQ,OAAR,CAEE;AADL,UAAA,YAAU,EAAA,sBAAA,MAAA;AAAA,mBAAE,QAAA,CAAA,OAAA,CAAQ,OAAO,CAAC,UAAhB,CAAF;AAAA;AACL,SALR,E,IAAA,E;;AAAA,U,qBAAA,C;OAKQ,CALR,E;;AAAA,O,EADF,E;;AAAA,O,EAQA,U,CATF,E;;AAAA,Q,mBAAA,CAUM,EAVN;AAAA,K,CAWQ;;;;AAAA,GAZV,CAgBI,EAHJ,YAAA,CAEU,kBAFV,EAEU,IAFV,EAEU;sBADR;AAAA,aAAiC,CAAjC,UAAiC,CAAjC;AAAA,K,CACQ;;;;AAAA,GAFV,CAGI,CAjBN,CAkBI,CAzBN,C","sourcesContent":["<template>\n<div class='App'>\n  <div class=\"header\">\n    <div class=\"legend\">\n      Legend Here\n    </div>\n  </div>\n  <el-divider></el-divider>\n  <div class=\"maps\">\n    <el-card>\n      <svg :height=\"height\" :width=\"width\">\n        <g class=\"paths\" @mouseleave=\"onHover(null)\">\n          <path\n            v-for=\"feature in map.features\"\n            :key=\"feature.properties.geounit\"\n            :d=\"geoPath(feature)\"\n            @mouseenter=\"onHover(feature.properties)\"\n          ></path>\n        </g>\n        <text id=\"hover\" :x=\"50\" :y=\"50\"></text>\n      </svg>\n    </el-card>\n    <el-card>\n      <div id=\"mapbox-container\"></div>\n    </el-card>\n  </div>\n</div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport mapboxgl from \"mapbox-gl\";\nimport map from './africa.geo.json'\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      map: {\n        ...map,\n        features: map.features.map(f => ({\n          ...f,\n          properties: {\n            ...f.properties,\n            centroid: d3.geoCentroid(f)\n          }\n        }))\n      },\n      width: 400,\n      height: 500,\n      mb: null\n    }\n  },\n  mounted() {\n    // https://dev.to/hmintoh/how-to-mapbox-with-vue-js-2a34\n    mapboxgl.accessToken = process.env.VUE_APP_MAPBOX_TOKEN;\n\n    this.mb = new mapboxgl.Map({\n      container: \"mapbox-container\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [18, 4],\n      zoom: 2,\n      maxBounds: [\n        [-18, -40],\n        [53, 40],\n      ],\n    });\n\n    this.mb.on('load', () => {\n      this.mb.addSource(\"countryPaths\", {\n        type: \"geojson\",\n        data: map\n      });\n\n      this.mb.addLayer({\n        id: 'countries',\n        type: 'fill',\n        source: 'countryPaths',\n        paint: {\n          \"fill-opacity\": 0.5,\n        }\n      })\n    })\n  },\n  computed: {\n    projection() {\n      return d3.geoEqualEarth()\n        .center([18, 4])\n        .scale(320)\n        .translate([this.width/2, this.height/2]);\n    },\n    geoPath() {\n      return d3.geoPath(this.projection);\n    }\n  },\n  methods: {\n    onHover(nextHover) {\n      if (nextHover === null) {\n        d3.select('#hover').text('')\n        return;\n      }\n      const projectedCentroid = this.projection(nextHover.centroid)\n      d3.select('#hover').text(nextHover.admin)\n        .attr('x', projectedCentroid[0])\n        .attr('y', projectedCentroid[1])\n    }\n  }\n}\n</script>\n\n<style>\n  body {\n    padding: 0;\n    margin: 0;\n  }\n  .App {\n    display: flex;\n    flex-direction: column;\n  }\n  .header {\n    padding: 10px;\n    display: flex;\n  }\n  .legend {\n    margin: 10px;\n  }\n  .maps {\n    display: flex;\n    justify-content: space-around;\n  }\n  #mapbox-container {\n    height: 500px;\n    width: 400px;\n  }\n  text {\n    transition: fill-opacity 0.5s;\n    font-size: 12pt;\n    text-anchor: middle;\n    pointer-events: none;\n  }\n  path {\n    fill-opacity: 0.2;\n    stroke: black;\n  }\n  path:hover {\n    fill-opacity: 0.5;\n  }\n</style>\n"],"sourceRoot":""}]}